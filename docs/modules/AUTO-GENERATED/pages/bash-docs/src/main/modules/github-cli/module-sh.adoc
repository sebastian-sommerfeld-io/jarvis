= module.sh

// +-----------------------------------------------+
// |                                               |
// |    DO NOT EDIT HERE !!!!!                     |
// |                                               |
// |    File is auto-generated by pipline.         |
// |    Contents are based on bash script docs.    |
// |                                               |
// +-----------------------------------------------+


Jarvis module to set up repos and configs on Github using the Github CLI.

== Overview

The module allows configuration of link:https://www.github.com[Github] repos, settings,
etc. (e.g. creating secrets for repositories) using the link:https://cli.github.com/manual[Github CLI].

NOTE: Don't run this script directly! Always run the `jarvis` command and select the module of choice.

=== Script Arguments

* _$1_ (string): The path from jarvis.sh to this module (modules/+++<MODULE_NAME>+++)+++</MODULE_NAME>+++

=== Dependencies

This script builds and runs a local Docker image which contains the github-cli. So Docker must be
installed.

=== Script Example

[source, bash]

----
jarvis
----

== Index

* <<_gh,gh>>
* <<_setup,setUp>>
* <<_teardown,tearDown>>
* <<_secrets,secrets>>
* <<_listdependabotprs,listDependabotPRs>>

=== gh

Facade to map `gh` command to the local docker container. The actual github-cli
execution is delegated to a Docker container. When running this script during local development,
all commands are executed against the `sebastian-sommerfeld-io/trashbox` repository.

==== Example

[,bash]
----
gh --version
----

==== Arguments

* *...* (String): The `gh` commands (1-n arguments) - $1 is mandatory

=== setUp

Run all setup tasks and take care of all prerequisites and dependencies. This function
builds the local Docker image (among other things).

==== Example

[,bash]
----
setUp
----

=== tearDown

Run all cleanup tasks at the end of the script.

==== Example

[,bash]
----
tearDown
----

=== secrets

Function to handle all tasks for menu option "secrets". Creates secrets for a given
github repository.

==== Example

[,bash]
----
secrets
----

=== listDependabotPRs

Function to handle to list all Pull Requests from Dependabot and all unassigned
Pull Requests from Dependabot. Affected Pull Requests are labeled 'dependencies' automatically by
Dependabot.

==== Example

[,bash]
----
listDependabotPRs
----
